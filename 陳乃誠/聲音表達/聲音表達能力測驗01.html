<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ™ï¸ è²éŸ³è¡¨é”èƒ½åŠ›æ¸¬é©— - ç™¼ç¾ä½ çš„è²éŸ³ç‰¹è³ª</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans TC', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #fff8f5 0%, #ffebe0 100%);
            min-height: 100vh;
            line-height: 1.6;
        }

        .quiz-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        /* é–‹å§‹ç•«é¢ */
        .start-screen {
            background: linear-gradient(135deg, #ff6b35, #f7931e);
            color: white;
            padding: 60px 40px;
            border-radius: 25px;
            text-align: center;
            box-shadow: 0 15px 35px rgba(255, 107, 53, 0.3);
            position: relative;
            overflow: hidden;
        }

        .start-screen::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: float 20s infinite linear;
        }

        @keyframes float {
            0% { transform: translate(0, 0) rotate(0deg); }
            100% { transform: translate(-25px, -25px) rotate(360deg); }
        }

        .start-screen h1 {
            font-size: 2.8rem;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            position: relative;
            z-index: 2;
        }

        .start-screen p {
            font-size: 1.2rem;
            margin-bottom: 30px;
            opacity: 0.9;
            position: relative;
            z-index: 2;
        }

        .start-btn {
            background: white;
            color: #ff6b35;
            border: none;
            padding: 15px 40px;
            border-radius: 30px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            position: relative;
            z-index: 2;
        }

        .start-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }

        /* æ¸¬é©—é€²åº¦æ¢ */
        .progress-container {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 5px 20px rgba(255, 107, 53, 0.1);
        }

        .progress-bar {
            background: #ffe0cc;
            height: 15px;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 15px;
        }

        .progress-fill {
            background: linear-gradient(90deg, #ff6b35, #f7931e);
            height: 100%;
            border-radius: 10px;
            transition: width 0.5s ease;
            position: relative;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .progress-text {
            display: flex;
            justify-content: space-between;
            color: #666;
            font-size: 0.9rem;
        }

        /* é¡Œç›®å¡ç‰‡ */
        .question-card {
            background: white;
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(255, 107, 53, 0.1);
            transform: translateY(20px);
            opacity: 0;
            animation: slideUp 0.6s ease forwards;
        }

        @keyframes slideUp {
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .question-number {
            background: linear-gradient(135deg, #ff6b35, #f7931e);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 20px;
        }

        .question-title {
            font-size: 1.5rem;
            color: #d84315;
            margin-bottom: 25px;
            font-weight: bold;
        }

        .question-subtitle {
            color: #666;
            margin-bottom: 30px;
            font-style: italic;
        }

        /* é¸é …æ¨£å¼ */
        .options {
            display: grid;
            gap: 15px;
            margin-bottom: 30px;
        }

        .option {
            background: linear-gradient(135deg, #fff8f5, #ffede0);
            border: 2px solid #ffe0cc;
            border-radius: 15px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .option::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 107, 53, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .option:hover::before {
            left: 100%;
        }

        .option:hover {
            border-color: #ff6b35;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 107, 53, 0.2);
        }

        .option.selected {
            background: linear-gradient(135deg, #ff6b35, #f7931e);
            color: white;
            border-color: #ff6b35;
            box-shadow: 0 8px 25px rgba(255, 107, 53, 0.3);
        }

        .option-text {
            font-size: 1.1rem;
            font-weight: 500;
            position: relative;
            z-index: 2;
        }

        .option-icon {
            font-size: 1.5rem;
            margin-right: 15px;
            vertical-align: middle;
        }

        /* æ»‘æ¡¿é¡Œå‹ */
        .slider-container {
            margin: 30px 0;
        }

        .slider-labels {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            color: #666;
            font-size: 0.9rem;
        }

        .slider {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: #ffe0cc;
            outline: none;
            -webkit-appearance: none;
            position: relative;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: linear-gradient(135deg, #ff6b35, #f7931e);
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(255, 107, 53, 0.3);
        }

        .slider::-moz-range-thumb {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: linear-gradient(135deg, #ff6b35, #f7931e);
            cursor: pointer;
            border: none;
            box-shadow: 0 2px 10px rgba(255, 107, 53, 0.3);
        }

        .slider-value {
            text-align: center;
            margin-top: 15px;
            font-size: 1.2rem;
            color: #ff6b35;
            font-weight: bold;
        }

        /* æŒ‰éˆ•æ¨£å¼ */
        .quiz-btn {
            background: linear-gradient(135deg, #ff6b35, #f7931e);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px;
        }

        .quiz-btn:hover {
            background: linear-gradient(135deg, #ff5722, #e65100);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 53, 0.4);
        }

        .quiz-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* çµæœé é¢ */
        .result-screen {
            background: white;
            border-radius: 25px;
            padding: 50px;
            text-align: center;
            box-shadow: 0 15px 35px rgba(255, 107, 53, 0.2);
            transform: scale(0.8);
            opacity: 0;
            animation: scaleIn 0.8s ease forwards;
        }

        @keyframes scaleIn {
            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .result-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: linear-gradient(135deg, #ff6b35, #f7931e);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 30px;
            font-size: 3rem;
            color: white;
            box-shadow: 0 10px 30px rgba(255, 107, 53, 0.3);
        }

        .result-title {
            font-size: 2.5rem;
            color: #d84315;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .result-subtitle {
            font-size: 1.2rem;
            color: #ff6b35;
            margin-bottom: 25px;
        }

        .result-description {
            color: #666;
            margin-bottom: 30px;
            line-height: 1.8;
            font-size: 1.1rem;
        }

        .result-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .stat-item {
            background: linear-gradient(135deg, #fff3e0, #ffe0cc);
            padding: 20px;
            border-radius: 15px;
            border: 2px solid #ffb890;
        }

        .stat-label {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #ff6b35;
        }

        /* åˆ†äº«æŒ‰éˆ• */
        .share-buttons {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            margin: 30px 0;
        }

        .share-btn {
            background: #fff;
            border: 2px solid #ffe0cc;
            border-radius: 25px;
            padding: 10px 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .share-btn:hover {
            border-color: #ff6b35;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 53, 0.2);
        }

        /* éŸ¿æ‡‰å¼è¨­è¨ˆ */
        @media (max-width: 768px) {
            .quiz-container {
                padding: 10px;
            }
            
            .question-card, .start-screen, .result-screen {
                padding: 30px 20px;
            }
            
            .start-screen h1 {
                font-size: 2.2rem;
            }
            
            .result-title {
                font-size: 2rem;
            }
        }

        /* éš±è—/é¡¯ç¤ºé¡åˆ¥ */
        .hidden {
            display: none !important;
        }

        .visible {
            display: block !important;
        }

        /* ç‰¹æ®Šå‹•ç•«æ•ˆæœ */
        .bounce {
            animation: bounce 0.6s ease;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }

        .shake {
            animation: shake 0.5s ease;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <!-- é–‹å§‹ç•«é¢ -->
        <div id="startScreen" class="start-screen">
            <h1>ğŸ™ï¸ è²éŸ³è¡¨é”èƒ½åŠ›æ¸¬é©—</h1>
            <p>ç™¼ç¾ä½ çš„ç¨ç‰¹è²éŸ³ç‰¹è³ªï¼Œæ‰¾åˆ°æœ€é©åˆçš„è¡¨é”é¢¨æ ¼</p>
            <p style="font-size: 1rem; opacity: 0.8; margin-bottom: 30px;">
                åŸºæ–¼å‘¨éœ‡å®‡è€å¸«ã€Œè‡ªä¿¡ä¹‹è²ã€èª²ç¨‹è¨­è¨ˆ
            </p>
            <button class="start-btn" onclick="startQuiz()">
                ğŸš€ é–‹å§‹æ¸¬é©—
            </button>
        </div>

        <!-- é€²åº¦æ¢ -->
        <div id="progressContainer" class="progress-container hidden">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text">
                <span id="currentQuestion">é¡Œç›® 1</span>
                <span id="totalQuestions">å…± 8 é¡Œ</span>
            </div>
        </div>

        <!-- é¡Œç›®å¡ç‰‡ -->
        <div id="questionCard" class="question-card hidden">
            <div class="question-number" id="questionNumber">ç¬¬ 1 é¡Œ</div>
            <h2 class="question-title" id="questionTitle"></h2>
            <p class="question-subtitle" id="questionSubtitle"></p>
            
            <!-- é¸æ“‡é¡Œé¸é … -->
            <div id="optionsContainer" class="options"></div>
            
            <!-- æ»‘æ¡¿é¡Œå‹ -->
            <div id="sliderContainer" class="slider-container hidden">
                <div class="slider-labels">
                    <span id="sliderMin">å®Œå…¨ä¸åŒæ„</span>
                    <span id="sliderMax">å®Œå…¨åŒæ„</span>
                </div>
                <input type="range" id="slider" class="slider" min="1" max="5" value="3">
                <div class="slider-value" id="sliderValue">3</div>
            </div>
            
            <div style="text-align: center; margin-top: 30px;">
                <button class="quiz-btn" id="nextBtn" onclick="nextQuestion()" disabled>
                    ä¸‹ä¸€é¡Œ â†’
                </button>
            </div>
        </div>

        <!-- çµæœç•«é¢ -->
        <div id="resultScreen" class="result-screen hidden">
            <div class="result-avatar" id="resultAvatar">ğŸ­</div>
            <h2 class="result-title" id="resultTitle">çŸ¥æ€§å°è¦½å‹</h2>
            <p class="result-subtitle" id="resultSubtitle">ä½ çš„è²éŸ³ç‰¹è³ª</p>
            <div class="result-description" id="resultDescription"></div>
            
            <div class="result-stats">
                <div class="stat-item">
                    <div class="stat-label">è‡ªä¿¡æŒ‡æ•¸</div>
                    <div class="stat-value" id="confidenceScore">85%</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">è¡¨é”é¢¨æ ¼</div>
                    <div class="stat-value" id="styleScore">çŸ¥æ€§å‹</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">æˆé•·æ½›åŠ›</div>
                    <div class="stat-value" id="growthScore">â­â­â­â­â­</div>
                </div>
            </div>

            <div class="share-buttons">
                <button class="share-btn" onclick="shareResult()">
                    ğŸ“¤ åˆ†äº«çµæœ
                </button>
                <button class="share-btn" onclick="retakeQuiz()">
                    ğŸ”„ é‡æ–°æ¸¬é©—
                </button>
                <button class="share-btn" onclick="learnMore()">
                    ğŸ“š äº†è§£æ›´å¤š
                </button>
            </div>
        </div>
    </div>

    <script>
        // æ¸¬é©—é¡Œç›®æ•¸æ“š
        const questions = [
            {
                type: "choice",
                title: "ç•¶ä½ éœ€è¦åœ¨æœƒè­°ä¸­ç™¼è¨€æ™‚ï¼Œä½ æœƒ...",
                subtitle: "é¸æ“‡æœ€ç¬¦åˆä½ æƒ…æ³çš„é¸é …",
                options: [
                    { icon: "ğŸ“", text: "äº‹å…ˆæº–å‚™å¥½ç™¼è¨€ç¨¿ï¼Œç¢ºä¿å…§å®¹å®Œæ•´", value: "prepared" },
                    { icon: "ğŸ’­", text: "åœ¨è…¦ä¸­æ•´ç†é‡é»ï¼Œéš¨æ©Ÿæ‡‰è®Š", value: "flexible" },
                    { icon: "ğŸ¤", text: "è§€å¯Ÿæ°£æ°›ï¼Œé¸æ“‡é©åˆçš„æ™‚æ©Ÿç™¼è¨€", value: "adaptive" },
                    { icon: "âš¡", text: "ç›´æ¥è¡¨é”æƒ³æ³•ï¼Œç›¸ä¿¡ç›´è¦º", value: "instinctive" }
                ]
            },
            {
                type: "choice",
                title: "ä½ èªç‚ºæœ€æœ‰è‡ªä¿¡çš„è²éŸ³ç‰¹è³ªæ˜¯ï¼Ÿ",
                subtitle: "æ ¹æ“šã€Œè‡ªä¿¡ä¹‹è²ã€äº”å¤§è¦ç´ ",
                options: [
                    { icon: "ğŸ¤”", text: "æ€è€ƒæ¸…æ™°ï¼Œé‚è¼¯åˆ†æ˜", value: "thinking" },
                    { icon: "ğŸ‘€", text: "çœ¼ç¥å …å®šï¼Œä¸è¿´é¿æ¥è§¸", value: "eye_contact" },
                    { icon: "ğŸµ", text: "è²éŸ³ç©©å®šï¼ŒéŸ³é‡é©ä¸­", value: "voice" },
                    { icon: "ğŸ§", text: "å§¿æ…‹è‡ªç„¶ï¼Œè‚¢é«”æ”¾é¬†", value: "body" }
                ]
            },
            {
                type: "slider",
                title: "ã€Œäº‹æƒ…ä¸ä¾†ï¼Œæˆ‘ä¸ä¸»å‹•æƒ¹äº‹ï¼›äº‹æƒ…ä¾†äº†ï¼Œæˆ‘ä¹Ÿä¸¦ä¸æ€•äº‹ã€",
                subtitle: "é€™å¥è©±æœ‰å¤šç¬¦åˆä½ çš„è™•äº‹é¢¨æ ¼ï¼Ÿ",
                min: "å®Œå…¨ä¸ç¬¦åˆ",
                max: "éå¸¸ç¬¦åˆ"
            },
            {
                type: "choice",
                title: "åœ¨èª²ç¨‹ä¸­ï¼Œä½ æœ€èªåŒå“ªä½å­¸å“¡çš„è²éŸ³ç‰¹è³ªï¼Ÿ",
                subtitle: "æ¯å€‹äººéƒ½æœ‰ç¨ç‰¹çš„è¡¨é”é¢¨æ ¼",
                options: [
                    { icon: "ğŸ­", text: "Emma - çŸ¥æ€§å°è¦½å‹ï¼šç†æ€§åˆ†æï¼Œé©åˆçŸ¥è­˜åˆ†äº«", value: "emma" },
                    { icon: "ğŸ˜Š", text: "æ†¶æ…ˆ - è¦ªå’Œé—œæ‡·å‹ï¼šæº«æš–è²¼å¿ƒï¼Œä»¥äººç‚ºæœ¬", value: "yici" },
                    { icon: "ğŸ¯", text: "æ”¿å€« - ç©©å®šæˆé•·å‹ï¼šè¸å¯¦å¯é ï¼ŒæŒçºŒé€²æ­¥", value: "zhenglun" },
                    { icon: "âœ¨", text: "å­Ÿåº­ - éˆæ€§è—è¡“å‹ï¼šå¯Œæœ‰æƒ³åƒåŠ›å’Œå‰µé€ åŠ›", value: "mengting" }
                ]
            },
            {
                type: "choice",
                title: "é¢å°ä¸èªåŒä½ è§€é»çš„äººï¼Œä½ æœƒä½¿ç”¨å“ªç¨®æºé€šç­–ç•¥ï¼Ÿ",
                subtitle: "åŸºæ–¼ABCæ³•å‰‡ï¼šAgree, Build, Compare",
                options: [
                    { icon: "ğŸ¤", text: "å…ˆèªåŒå°æ–¹çš„æƒ³æ³•ï¼Œå†æå‡ºè‡ªå·±çš„è§€é»", value: "agree_first" },
                    { icon: "ğŸ—ï¸", text: "å»ºæ§‹æ–°çš„è¦–è§’ï¼Œå¾ä¸åŒè§’åº¦åˆ†æ", value: "build_new" },
                    { icon: "âš–ï¸", text: "æ¯”è¼ƒé›™æ–¹è§€é»ï¼Œå°‹æ‰¾å…±åŒé»", value: "compare" },
                    { icon: "ğŸ”„", text: "ä¿æŒé–‹æ”¾æ…‹åº¦ï¼Œé¡˜æ„èª¿æ•´è‡ªå·±çš„æƒ³æ³•", value: "flexible" }
                ]
            },
            {
                type: "slider",
                title: "ã€Œå¤¢æƒ³ä¸æ˜¯ç›®æ¨™ï¼Œè€Œæ˜¯ä½ çœŸæ­£çš„ç”Ÿæ´»æ–¹å¼ã€",
                subtitle: "ä½ æœ‰å¤šèªåŒé€™å€‹è§€é»ï¼Ÿ",
                min: "å®Œå…¨ä¸èªåŒ",
                max: "æ·±åº¦èªåŒ"
            },
            {
                type: "choice",
                title: "ä½ å¸Œæœ›è‡ªå·±çš„è²éŸ³çµ¦äººä»€éº¼æ¨£çš„æ„Ÿå—ï¼Ÿ",
                subtitle: "é¸æ“‡ä½ æœ€åš®å¾€çš„è²éŸ³å°è±¡",
                options: [
                    { icon: "ğŸŒŸ", text: "å°ˆæ¥­å¯ä¿¡ï¼šè®“äººè¦ºå¾—ä½ å¾ˆæœ‰èƒ½åŠ›", value: "professional" },
                    { icon: "â¤ï¸", text: "æº«æš–è¦ªåˆ‡ï¼šè®“äººæ„Ÿåˆ°èˆ’é©å’Œè¢«é—œæ‡·", value: "warm" },
                    { icon: "âš¡", text: "å……æ»¿æ´»åŠ›ï¼šå¸¶çµ¦äººç©æ¥µæ­£å‘çš„èƒ½é‡", value: "energetic" },
                    { icon: "ğŸ§˜", text: "æ²‰ç©©å®‰å®šï¼šçµ¦äººå¯é å’Œå®‰å…¨æ„Ÿ", value: "stable" }
                ]
            },
            {
                type: "choice",
                title: "å®Œæˆé€™å€‹æ¸¬é©—å¾Œï¼Œä½ æœ€æƒ³è¦çš„æ˜¯ï¼Ÿ",
                subtitle: "æ¸¬é©—çµæŸå‰çš„æœ€å¾Œä¸€é¡Œ",
                options: [
                    { icon: "ğŸ“Š", text: "äº†è§£è‡ªå·±çš„è²éŸ³ç‰¹è³ªåˆ†æ", value: "analysis" },
                    { icon: "ğŸ’¡", text: "ç²å¾—å€‹äººåŒ–çš„æ”¹å–„å»ºè­°", value: "advice" },
                    { icon: "ğŸ¯", text: "æ‰¾åˆ°é©åˆçš„ç·´ç¿’æ–¹æ³•", value: "practice" },
                    { icon: "ğŸŒ±", text: "åˆ¶å®šè²éŸ³æˆé•·è¨ˆç•«", value: "growth" }
                ]
            }
        ];

        // æ¸¬é©—ç‹€æ…‹
        let currentQuestionIndex = 0;
        let answers = [];

        // é–‹å§‹æ¸¬é©—
        function startQuiz() {
            document.getElementById('startScreen').classList.add('hidden');
            document.getElementById('progressContainer').classList.remove('hidden');
            document.getElementById('questionCard').classList.remove('hidden');
            
            showQuestion(0);
        }

        // é¡¯ç¤ºé¡Œç›®
        function showQuestion(index) {
            if (index >= questions.length) {
                showResults();
                return;
            }

            const question = questions[index];
            const questionCard = document.getElementById('questionCard');
            
            // æ›´æ–°é€²åº¦
            const progress = ((index + 1) / questions.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = `é¡Œç›® ${index + 1}`;
            
            // æ›´æ–°é¡Œç›®å…§å®¹
            document.getElementById('questionNumber').textContent = `ç¬¬ ${index + 1} é¡Œ`;
            document.getElementById('questionTitle').textContent = question.title;
            document.getElementById('questionSubtitle').textContent = question.subtitle;
            
            // é‡ç½®æŒ‰éˆ•ç‹€æ…‹
            document.getElementById('nextBtn').disabled = true;
            
            if (question.type === 'choice') {
                showChoiceQuestion(question);
            } else if (question.type === 'slider') {
                showSliderQuestion(question);
            }
            
            // æ·»åŠ é€²å…¥å‹•ç•«
            questionCard.style.animation = 'none';
            questionCard.offsetHeight; // è§¸ç™¼é‡æ’
            questionCard.style.animation = 'slideUp 0.6s ease forwards';
        }

        // é¡¯ç¤ºé¸æ“‡é¡Œ
        function showChoiceQuestion(question) {
            document.getElementById('optionsContainer').classList.remove('hidden');
            document.getElementById('sliderContainer').classList.add('hidden');
            
            const container = document.getElementById('optionsContainer');
            container.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                optionDiv.innerHTML = `
                    <span class="option-icon">${option.icon}</span>
                    <span class="option-text">${option.text}</span>
                `;
                
                optionDiv.onclick = () => selectOption(optionDiv, option.value);
                container.appendChild(optionDiv);
            });
        }

        // é¡¯ç¤ºæ»‘æ¡¿é¡Œ
        function showSliderQuestion(question) {
            document.getElementById('optionsContainer').classList.add('hidden');
            document.getElementById('sliderContainer').classList.remove('hidden');
            
            document.getElementById('sliderMin').textContent = question.min;
            document.getElementById('sliderMax').textContent = question.max;
            
            const slider = document.getElementById('slider');
            const sliderValue = document.getElementById('sliderValue');
            
            slider.value = 3;
            sliderValue.textContent = '3';
            
            slider.oninput = function() {
                sliderValue.textContent = this.value;
                document.getElementById('nextBtn').disabled = false;
                answers[currentQuestionIndex] = parseInt(this.value);
            };
            
            // é è¨­é¸ä¸­ä¸­é–“å€¼
            setTimeout(() => {
                document.getElementById('nextBtn').disabled = false;
                answers[currentQuestionIndex] = 3;
            }, 100);
        }

        // é¸æ“‡é¸é …
        function selectOption(element, value) {
            // ç§»é™¤å…¶ä»–é¸é …çš„é¸ä¸­ç‹€æ…‹
            document.querySelectorAll('.option').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            // é¸ä¸­ç•¶å‰é¸é …
            element.classList.add('selected');
            element.classList.add('bounce');
            
            // å•Ÿç”¨ä¸‹ä¸€é¡ŒæŒ‰éˆ•
            document.getElementById('nextBtn').disabled = false;
            
            // ä¿å­˜ç­”æ¡ˆ
            answers[currentQuestionIndex] = value;
            
            // ç§»é™¤å‹•ç•«é¡
            setTimeout(() => {
                element.classList.remove('bounce');
            }, 600);
        }

        // ä¸‹ä¸€é¡Œ
        function nextQuestion() {
            currentQuestionIndex++;
            showQuestion(currentQuestionIndex);
        }

        // é¡¯ç¤ºçµæœ
        function showResults() {
            document.getElementById('progressContainer').classList.add('hidden');
            document.getElementById('questionCard').classList.add('hidden');
            document.getElementById('resultScreen').classList.remove('hidden');
            
            // åˆ†æç­”æ¡ˆä¸¦é¡¯ç¤ºçµæœ
            const result = analyzeAnswers(answers);
            displayResult(result);
        }

        // åˆ†æç­”æ¡ˆ
        function analyzeAnswers(answers) {
            // ç°¡åŒ–çš„åˆ†æé‚è¼¯
            const results = {
                'emma': {
                    avatar: 'ğŸ­',
                    title: 'Emma çŸ¥æ€§å°è¦½å‹',
                    subtitle: 'ç†æ€§åˆ†æ Ã— çŸ¥è­˜åˆ†äº«',
                    description: 'ä½ çš„è²éŸ³å…·æœ‰çŸ¥æ€§é­…åŠ›ï¼Œé©åˆå¼•å°ä»–äººæ¢ç´¢æ–°çŸ¥ã€‚å°±åƒEmmaä¸€æ¨£ï¼Œä½ æ“…é•·å°‡è¤‡é›œçš„æ¦‚å¿µç”¨æ¸…æ™°çš„æ–¹å¼è¡¨é”ï¼Œå¾ˆé©åˆæ•™å­¸ã€å°è¦½æˆ–çŸ¥è­˜åˆ†äº«çš„å·¥ä½œã€‚',
                    confidence: '92%',
                    style: 'çŸ¥æ€§å‹',
                    growth: 'â­â­â­â­â­'
                },
                'yici': {
                    avatar: 'ğŸ˜Š',
                    title: 'æ†¶æ…ˆ è¦ªå’Œé—œæ‡·å‹',
                    subtitle: 'æº«æš–è²¼å¿ƒ Ã— ä»¥äººç‚ºæœ¬',
                    description: 'ä½ çš„è²éŸ³æœ‰è‘—å¤©ç„¶çš„è¦ªå’ŒåŠ›ï¼Œèƒ½è®“äººæ„Ÿåˆ°æº«æš–å’Œè¢«é—œæ‡·ã€‚å¦‚åŒæ†¶æ…ˆçš„ç‰¹è³ªï¼Œä½ çš„è¡¨é”å……æ»¿å–„æ„ï¼Œå¾ˆé©åˆè«®è©¢ã€å®¢æœæˆ–åœ˜éšŠå”èª¿çš„è§’è‰²ã€‚',
                    confidence: '88%',
                    style: 'é—œæ‡·å‹',
                    growth: 'â­â­â­â­â­'
                },
                'zhenglun': {
                    avatar: 'ğŸ¯',
                    title: 'æ”¿å€« ç©©å®šæˆé•·å‹',
                    subtitle: 'è¸å¯¦å¯é  Ã— æŒçºŒé€²æ­¥',
                    description: 'ä½ çš„è²éŸ³å±•ç¾å‡ºç©©å®šå’Œå¯é çš„ç‰¹è³ªã€‚åƒæ”¿å€«ä¸€æ¨£ï¼Œä½ é›–ç„¶å¯èƒ½éœ€è¦æº–å‚™æ™‚é–“ï¼Œä½†ä¸€æ—¦æº–å‚™å¥½å°±èƒ½è¡¨ç¾å¾—å¾ˆå‡ºè‰²ï¼Œå¾ˆé©åˆéœ€è¦æ·±åº¦æ€è€ƒçš„å·¥ä½œã€‚',
                    confidence: '85%',
                    style: 'ç©©å®šå‹',
                    growth: 'â­â­â­â­â­'
                },
                'mengting': {
                    avatar: 'âœ¨',
                    title: 'å­Ÿåº­ éˆæ€§è—è¡“å‹',
                    subtitle: 'å¯Œæœ‰æƒ³åƒåŠ› Ã— å‰µé€ åŠ›',
                    description: 'ä½ çš„è²éŸ³å¸¶æœ‰éˆæ€§å’Œè—è¡“æ°£æ¯ï¼Œèƒ½å¤ è§¸å‹•äººå¿ƒã€‚å¦‚åŒå­Ÿåº­çš„ç‰¹è³ªï¼Œä½ å¾ˆé©åˆå¾äº‹å‰µæ„ã€è—è¡“æˆ–æ–‡åŒ–ç›¸é—œçš„è¡¨é”å·¥ä½œã€‚',
                    confidence: '90%',
                    style: 'è—è¡“å‹',
                    growth: 'â­â­â­â­â­'
                }
            };

            // æ ¹æ“šç­”æ¡ˆé¸æ“‡çµæœï¼ˆç°¡åŒ–é‚è¼¯ï¼‰
            const choiceAnswers = answers.filter(a => typeof a === 'string');
            const mostCommon = choiceAnswers.reduce((acc, curr) => {
                if (curr === 'emma' || curr === 'prepared' || curr === 'thinking') return {...acc, emma: (acc.emma || 0) + 1};
                if (curr === 'yici' || curr === 'adaptive' || curr === 'warm') return {...acc, yici: (acc.yici || 0) + 1};
                if (curr === 'zhenglun' || curr === 'flexible' || curr === 'stable') return {...acc, zhenglun: (acc.zhenglun || 0) + 1};
                if (curr === 'mengting' || curr === 'instinctive' || curr === 'energetic') return {...acc, mengting: (acc.mengting || 0) + 1};
                return acc;
            }, {});

            const topResult = Object.keys(mostCommon).reduce((a, b) => mostCommon[a] > mostCommon[b] ? a : b) || 'emma';
            
            return results[topResult];
        }

        // é¡¯ç¤ºçµæœ
        function displayResult(result) {
            document.getElementById('resultAvatar').textContent = result.avatar;
            document.getElementById('resultTitle').textContent = result.title;
            document.getElementById('resultSubtitle').textContent = result.subtitle;
            document.getElementById('resultDescription').textContent = result.description;
            document.getElementById('confidenceScore').textContent = result.confidence;
            document.getElementById('styleScore').textContent = result.style;
            document.getElementById('growthScore').textContent = result.growth;
        }

        // åˆ†äº«çµæœ
        function shareResult() {
            const title = document.getElementById('resultTitle').textContent;
            const text = `æˆ‘åœ¨è²éŸ³è¡¨é”æ¸¬é©—ä¸­æ˜¯ã€Œ${title}ã€ï¼å¿«ä¾†æ¸¬è©¦ä½ çš„è²éŸ³ç‰¹è³ªå§ ğŸ™ï¸`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'è²éŸ³è¡¨é”èƒ½åŠ›æ¸¬é©—çµæœ',
                    text: text,
                    url: window.location.href
                });
            } else {
                // è¤‡è£½åˆ°å‰ªè²¼æ¿
                navigator.clipboard.writeText(text + '\n' + window.location.href);
                alert('çµæœå·²è¤‡è£½åˆ°å‰ªè²¼æ¿ï¼');
            }
        }

        // é‡æ–°æ¸¬é©—
        function retakeQuiz() {
            currentQuestionIndex = 0;
            answers = [];
            
            document.getElementById('resultScreen').classList.add('hidden');
            document.getElementById('startScreen').classList.remove('hidden');
        }

        // äº†è§£æ›´å¤š
        function learnMore() {
            alert('ğŸ“ æƒ³äº†è§£æ›´å¤šï¼Ÿ\n\nğŸ“š æ¨è–¦é–±è®€ï¼š\nâ€¢ å‘¨éœ‡å®‡è€å¸«ã€Šè²éŸ³è¡¨é”èª²ã€‹\nâ€¢ è²éŸ³è¨“ç·´ç›¸é—œèª²ç¨‹\nâ€¢ æºé€šæŠ€å·§å·¥ä½œåŠ\n\nğŸ¯ æŒçºŒç·´ç¿’ï¼Œè®“è²éŸ³æˆç‚ºä½ çš„è¶…èƒ½åŠ›ï¼');
        }

        // é é¢è¼‰å…¥å®Œæˆå¾Œçš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // æ·»åŠ ä¸€äº›è¦–è¦ºæ•ˆæœ
            console.log('ğŸ™ï¸ è²éŸ³è¡¨é”èƒ½åŠ›æ¸¬é©—å·²æº–å‚™å°±ç·’ï¼');
        });
    </script>
</body>
</html>